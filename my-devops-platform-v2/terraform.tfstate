{"version":4,"terraform_version":"1.10.3","serial":4,"lineage":"ab4bed16-c6bf-e38d-c978-212c8efdce26","outputs":{},"resources":[{"mode":"managed","type":"helm_release","name":"jenkins","provider":"provider[\"registry.opentofu.org/hashicorp/helm\"]","instances":[{"schema_version":1,"attributes":{"atomic":false,"chart":"jenkins","cleanup_on_fail":false,"create_namespace":false,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"id":"jenkins","keyring":null,"lint":false,"manifest":null,"max_history":0,"metadata":[{"app_version":"2.516.1","chart":"jenkins","name":"jenkins","namespace":"infra","revision":1,"values":"{\"agent\":{\"kubernetes\":{\"credentialsId\":\"kubernetes-jenkins-agent\",\"jenkinsUrl\":\"http://jenkins.infra.svc.cluster.local:8080\",\"name\":\"kubernetes\",\"namespace\":\"infra\",\"podTemplates\":{\"maven-agent\":{\"containers\":[{\"alwaysPullImage\":true,\"image\":\"jenkins/inbound-agent:latest-jdk17\",\"name\":\"jnlp\",\"workingDir\":\"/home/jenkins/agent\"},{\"alwaysPullImage\":true,\"command\":\"cat\",\"image\":\"maven:3.9.6-eclipse-temurin-17\",\"name\":\"maven\",\"ttyEnabled\":true},{\"alwaysPullImage\":true,\"command\":\"cat\",\"image\":\"docker:20.10.17\",\"name\":\"docker\",\"ttyEnabled\":true,\"volumeMounts\":[{\"mountPath\":\"/var/run/docker.sock\",\"name\":\"docker-sock\",\"readOnly\":false}]},{\"alwaysPullImage\":true,\"command\":\"cat\",\"image\":\"alpine/helm:3.9.0\",\"name\":\"helm\",\"ttyEnabled\":true}],\"label\":\"jenkins-maven-agent\",\"namespace\":\"apps\",\"volumes\":[{\"hostPathVolume\":{\"hostPathType\":\"\",\"name\":\"docker-sock\",\"path\":\"/var/run/docker.sock\"}}]}}}},\"controller\":{\"installPlugins\":[\"kubernetes\",\"workflow-aggregator\",\"git\",\"configuration-as-code\",\"job-dsl\"],\"persistence\":{\"enabled\":true,\"size\":\"8Gi\",\"storageClass\":\"standard\"}}}","version":"5.8.73"}],"name":"jenkins","namespace":"infra","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://charts.jenkins.io","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"values":["# helm/values/jenkins-values.yaml\r\ncontroller:\r\n  installPlugins:\r\n    - kubernetes\r\n    - workflow-aggregator\r\n    - git\r\n    - configuration-as-code\r\n    # Add this plugin for the seed job\r\n    - job-dsl\r\n  persistence:\r\n    enabled: true\r\n    storageClass: \"standard\"\r\n    size: \"8Gi\"\r\n\r\nagent:\r\n  kubernetes:\r\n    name: kubernetes\r\n    namespace: infra\r\n    jenkinsUrl: http://jenkins.infra.svc.cluster.local:8080\r\n    credentialsId: kubernetes-jenkins-agent\r\n    podTemplates:\r\n      maven-agent:\r\n        label: jenkins-maven-agent\r\n        namespace: apps\r\n        volumes:\r\n        - hostPathVolume:\r\n            path: /var/run/docker.sock\r\n            hostPathType: \"\"\r\n            name: docker-sock\r\n        containers:\r\n        - name: jnlp\r\n          image: jenkins/inbound-agent:latest-jdk17\r\n          workingDir: /home/jenkins/agent\r\n          alwaysPullImage: true\r\n        - name: maven\r\n          image: maven:3.9.6-eclipse-temurin-17\r\n          command: cat\r\n          ttyEnabled: true\r\n          alwaysPullImage: true\r\n        - name: docker\r\n          image: docker:20.10.17\r\n          command: cat\r\n          ttyEnabled: true\r\n          alwaysPullImage: true\r\n          volumeMounts:\r\n          - mountPath: /var/run/docker.sock\r\n            name: docker-sock\r\n            readOnly: false\r\n        - name: helm\r\n          image: alpine/helm:3.9.0\r\n          command: cat\r\n          ttyEnabled: true\r\n          alwaysPullImage: true"],"verify":false,"version":"5.8.73","wait":true,"wait_for_jobs":false},"sensitive_attributes":[[{"type":"get_attr","value":"repository_password"}]],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==","dependencies":["kubernetes_namespace.infra"]}]},{"mode":"managed","type":"helm_release","name":"prometheus","provider":"provider[\"registry.opentofu.org/hashicorp/helm\"]","instances":[{"schema_version":1,"attributes":{"atomic":false,"chart":"kube-prometheus-stack","cleanup_on_fail":false,"create_namespace":false,"dependency_update":false,"description":null,"devel":null,"disable_crd_hooks":false,"disable_openapi_validation":false,"disable_webhooks":false,"force_update":false,"id":"prometheus","keyring":null,"lint":false,"manifest":null,"max_history":0,"metadata":[{"app_version":"v0.83.0","chart":"kube-prometheus-stack","name":"prometheus","namespace":"infra","revision":1,"values":"{}","version":"75.15.2"}],"name":"prometheus","namespace":"infra","pass_credentials":false,"postrender":[],"recreate_pods":false,"render_subchart_notes":true,"replace":false,"repository":"https://prometheus-community.github.io/helm-charts","repository_ca_file":null,"repository_cert_file":null,"repository_key_file":null,"repository_password":null,"repository_username":null,"reset_values":false,"reuse_values":false,"set":[],"set_sensitive":[],"skip_crds":false,"status":"deployed","timeout":300,"values":null,"verify":false,"version":"75.15.2","wait":true,"wait_for_jobs":false},"sensitive_attributes":[[{"type":"get_attr","value":"repository_password"}]],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==","dependencies":["kubernetes_namespace.infra"]}]},{"mode":"managed","type":"kubernetes_namespace","name":"apps","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"id":"apps","metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{},"name":"apps","resource_version":"607","uid":"562431dd-5fad-43e9-b9c9-0553c2830ca8"}],"timeouts":null,"wait_for_default_service_account":false},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ=="}]},{"mode":"managed","type":"kubernetes_namespace","name":"infra","provider":"provider[\"registry.opentofu.org/hashicorp/kubernetes\"]","instances":[{"schema_version":0,"attributes":{"id":"infra","metadata":[{"annotations":{},"generate_name":"","generation":0,"labels":{},"name":"infra","resource_version":"606","uid":"e07526f3-3359-4394-aa97-1836383e5814"}],"timeouts":null,"wait_for_default_service_account":false},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjozMDAwMDAwMDAwMDB9fQ=="}]}],"check_results":null}
